<div class="bg-white rounded-lg shadow-lg overflow-hidden flex flex-col" style="height: calc(100vh - 280px);">
    <!-- Chat Header -->
    <div class="bg-gradient-to-r from-purple-600 to-pink-600 text-white p-3 sm:p-4">
        <div class="flex items-center justify-between">
            <h2 class="text-lg font-semibold flex items-center">
                <span class="mr-2">ğŸ’¬</span> Chat & Game Room
            </h2>
            <div class="flex items-center space-x-2">
                <span class="text-xs bg-white bg-opacity-20 px-2 py-1 rounded-full" id="online-users">
                    {{ online_users_count }} online
                </span>
            </div>
        </div>
    </div>

    <!-- Messages Area -->
    <div id="chat-log" class="flex-1 overflow-y-auto p-3 sm:p-4 bg-gray-50">
        {% for message in messages %}
            <div class="chat-bubble mb-3">
                <div class="flex items-start space-x-3">
                    <div class="w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center text-white font-semibold text-xs">
                        {{ message.user.username|first|upper }}
                    </div>
                    <div class="flex-1">
                        <div class="flex items-center space-x-2 mb-1">
                            <span class="font-semibold text-gray-800">{{ message.user.username }}</span>
                            <span class="text-xs text-gray-500">{{ message.timestamp|date:"H:i" }}</span>
                        </div>
                        <div class="bg-white p-2 rounded-lg shadow-sm border">
                            <p class="text-gray-800">{{ message.content }}</p>
                        </div>
                    </div>
                </div>
            </div>
        {% empty %}
            <div class="text-center py-8 text-gray-500">
                <div class="text-4xl mb-2">ğŸ’¬</div>
                <p>No messages yet. Start the conversation!</p>
            </div>
        {% endfor %}
    </div>

    <!-- Message Input Area -->
    <div class="p-3 sm:p-4 bg-white border-t">
        <div class="flex space-x-2">
            <input 
                type="text" 
                id="chat-message-input"
                placeholder="Type your message..." 
                class="flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 outline-none"
            >
            <button 
                id="chat-message-submit"
                class="game-button bg-gradient-to-r from-purple-600 to-pink-600 text-white px-4 py-2 rounded-lg hover:from-purple-700 hover:to-pink-700 transition duration-200"
            >
                Send
            </button>
        </div>
        <div class="mt-2 text-xs text-gray-500">
            Press Enter to send â€¢ Be respectful and have fun!
        </div>
    </div>
</div>
